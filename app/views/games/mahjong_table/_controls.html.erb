<div class="flex justify-center gap-3">
  <% base_button_class = "rounded-full border border-slate-700 bg-slate-800/60 px-4 py-2 text-sm font-semibold text-slate-100 shadow-sm shadow-emerald-500/20" %>
  <% hover_class = "transition hover:border-emerald-400 hover:text-emerald-200 hover:shadow-emerald-400/30" %>
  <% disabled_class = "opacity-50 cursor-not-allowed" %>

  <% undo_button_classes = [
    base_button_class,
    (@can_undo ? hover_class : disabled_class)
    ].compact.join(" ") %>

  <% playback_button_classes = [
    base_button_class,
    (@can_playback ? hover_class : disabled_class)
    ].compact.join(" ") %>

  <% redo_button_classes = [
    base_button_class,
    (@can_redo ? hover_class : disabled_class)
    ].compact.join(" ") %>

  <%= form_with url: game_play_undo_path(@game),
                class: "inline-block",
                data: { testid: "undo" } do |form| %>
    <%= form.button "戻る",
                    class: undo_button_classes,
                    disabled: !@can_undo %>
  <% end %>

  <%= form_with url: game_play_playback_path(@game),
                class: "inline-block",
                data: { testid: "playback" } do |form| %>
    <%= form.hidden_field :event, value: @event %>
    <%= form.button "▶︎",
                    class: playback_button_classes,
                    disabled: !@can_playback %>
  <% end %>

  <%= form_with url: game_play_redo_path(@game),
                class: "inline-block",
                data: { testid: "redo" } do |form| %>
    <%= form.button "進む",
                    class: redo_button_classes,
                    disabled: !@can_redo %>
  <% end %>
</div>
