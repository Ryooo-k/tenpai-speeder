<div class="flex justify-center gap-3">
  <% base_button_class = "rounded-lg border border-slate-700/80 bg-gradient-to-b from-[#121826] to-[#0c1019] px-4 py-2 text-sm font-semibold text-slate-100 ring-1 ring-cyan-500/5" %>
  <% hover_class = "transition transform hover:-translate-y-0.5 hover:border-cyan-300/70 hover:text-cyan-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400" %>
  <% disabled_class = "opacity-50 cursor-not-allowed saturate-50" %>

  <% backward_button_classes = [
    base_button_class,
    (@game.can_undo? ? hover_class : disabled_class)
    ].compact.join(" ") %>

  <% playback_button_classes = [
    base_button_class,
    (@can_playback ? hover_class : disabled_class)
    ].compact.join(" ") %>

  <% progress_button_classes = [
    base_button_class,
    (@game.can_redo? ? hover_class : disabled_class)
    ].compact.join(" ") %>

  <%= form_with url: game_play_backward_path(@game),
                class: "inline-block",
                method: :patch,
                data: { testid: "undo" } do |form| %>
    <%= form.button "戻る",
                    class: backward_button_classes,
                    disabled: !@game.can_undo? %>
  <% end %>

  <%= form_with url: game_play_playback_path(@game),
                class: "inline-block",
                method: :patch,
                data: { testid: "playback" } do |form| %>
    <%= form.hidden_field :event, value: @event %>
    <%= form.button "▶︎",
                    class: playback_button_classes,
                    aria: { label: "再生" },
                    disabled: !@can_playback %>
  <% end %>

  <%= form_with url: game_play_progress_path(@game),
                class: "inline-block",
                method: :patch,
                data: { testid: "redo" } do |form| %>
    <%= form.button "進む",
                    class: progress_button_classes,
                    disabled: !@game.can_redo? %>
  <% end %>
</div>
