<% content_for :title, 'モード一覧｜Tenpai Speeder' %>
<% content_for :meta_description, '目的別に選べる麻雀練習モード一覧。牌効率トレーニングや終盤判断など、Tenpai Speederで好みのモードを選んで練習を開始できます。' %>
<% content_for :meta_keywords, '麻雀,モード選択,牌効率,テンパイスピーダー' %>
<% mode_type_labels = { 'final_round' => 'オーラス特化', 'match' => '対局形式' } %>
<% mode_type_descriptions = {
    'final_round' => 'オーラスから始まる練習など、終盤判断に集中するモードです。',
    'match' => '通常の対局形式で基礎力を磨くモードです。'
  } %>

<div class='relative min-h-screen overflow-hidden bg-[#04060b] text-slate-100'>
  <a href='#main-content' class='sr-only absolute left-4 top-4 z-20 rounded-md bg-white/90 px-3 py-2 text-sm font-semibold text-slate-900 focus-visible:not-sr-only focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:ring-offset-2 focus-visible:ring-offset-[#04060b]'>
    コンテンツへスキップ
  </a>

  <div class='pointer-events-none absolute inset-0' aria-hidden='true'>
    <div class='absolute -top-32 -left-24 h-72 w-72 rounded-full bg-cyan-400/15 blur-3xl'></div>
    <div class='absolute bottom-0 right-0 h-80 w-80 rounded-full bg-sky-500/12 blur-3xl'></div>
    <div class='absolute inset-0 bg-[radial-gradient(circle_at_18%_18%,rgba(56,189,248,0.12),transparent_38%),radial-gradient(circle_at_80%_8%,rgba(14,165,233,0.12),transparent_34%)]'></div>
  </div>

  <main id='main-content' class='relative mx-auto max-w-5xl px-6 py-16' tabindex='-1'>
    <header class='mx-auto max-w-3xl text-center'>
      <h1 class='mt-3 text-3xl font-black tracking-tight sm:text-4xl'>
        目的に合わせて
        <span class='mt-2 block text-cyan-200'>最適なモードを選択</span>
      </h1>
      <div class='mt-6 text-sm leading-relaxed text-slate-200/85'>
        <p>牌効率を鍛えたい、終盤の判断を磨きたいなど、目的に合わせてモードを選べます。</p>
        <p>進みたいトレーニングを見つけたら、ゲームを開始しましょう。</p>
      </div>
    </header>

    <div class='mt-10 space-y-8'>
      <% mode_type_labels.each do |mode_type, label| %>
        <% modes = @game_modes_by_type[mode_type] || [] %>
        <% next if modes.empty? %>

        <section aria-labelledby="mode-list-heading-<%= mode_type %>" data-mode-type="<%= mode_type %>">
          <div class='flex flex-wrap items-center justify-between gap-4 text-xs sm:text-sm text-slate-200/80'>
            <div>
              <h2 id="mode-list-heading-<%= mode_type %>" class='text-xl font-semibold tracking-[0.2em] text-cyan-200'><%= label %></h2>
              <p class='mt-2 text-[0.9rem] text-slate-200/80'><%= mode_type_descriptions[mode_type] %></p>
            </div>
          </div>

          <ul class='mt-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3'>
            <%= render partial: 'game_mode_card', collection: modes %>
          </ul>
        </section>
      <% end %>
    </div>
  </main>
</div>
